import{S as I,i as V,s as q,a as y,k as _,q as x,x as J,a0 as A,h as l,c as C,l as v,m as S,r as L,y as O,n as m,b as g,a1 as h,z as B,f as D,t as k,A as F,o as M,C as P,W as R}from"../../../chunks/paths-b28eb7b3.js";import{B as T,C as U}from"../../../chunks/Button-c805bc51.js";import{b as z}from"../../../chunks/browser-6da7a67e.js";import{b as H}from"../../../chunks/Ripple-7954d7f8.js";const{document:N}=R;function W(r){let e;return{c(){e=x("Convert & Download")},l(t){e=L(t,"Convert & Download")},m(t,n){g(t,e,n)},d(t){t&&l(e)}}}function Y(r){let e,t;return e=new U({props:{$$slots:{default:[W]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,a){B(e,n,a),t=!0},p(n,a){const o={};a&2&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function G(r){let e,t,n,a,o,c,i,d,$,u,b;return u=new T({props:{variant:"unelevated",$$slots:{default:[Y]},$$scope:{ctx:r}}}),u.$on("click",r[0]),{c(){e=y(),t=_("h1"),n=x("CSV2JSON"),a=y(),o=_("section"),c=_("label"),i=_("input"),d=y(),$=_("div"),J(u.$$.fragment),this.h()},l(s){A("svelte-1azmwck",N.head).forEach(l),e=C(s),t=v(s,"H1",{});var p=S(t);n=L(p,"CSV2JSON"),p.forEach(l),a=C(s),o=v(s,"SECTION",{class:!0});var w=S(o);c=v(w,"LABEL",{for:!0});var E=S(c);i=v(E,"INPUT",{id:!0,type:!0,name:!0,accept:!0}),E.forEach(l),d=C(w),$=v(w,"DIV",{});var j=S($);O(u.$$.fragment,j),j.forEach(l),w.forEach(l),this.h()},h(){N.title="CSV2JSON|JW-FrontLibraries",m(i,"id","csv"),m(i,"type","file"),m(i,"name","csv"),m(i,"accept",".csv"),m(c,"for","csv"),m(o,"class","grid-1 svelte-gxeqap")},m(s,f){g(s,e,f),g(s,t,f),h(t,n),g(s,a,f),g(s,o,f),h(o,c),h(c,i),h(o,d),h(o,$),B(u,$,null),b=!0},p(s,[f]){const p={};f&2&&(p.$$scope={dirty:f,ctx:s}),u.$set(p)},i(s){b||(D(u.$$.fragment,s),b=!0)},o(s){k(u.$$.fragment,s),b=!1},d(s){s&&l(e),s&&l(t),s&&l(a),s&&l(o),F(u)}}}function K(){const r=new Date,e=r.getFullYear(),t=("0"+(r.getMonth()+1)).slice(-2),n=("0"+r.getDate()).slice(-2),a=("0"+r.getHours()).slice(-2),o=("0"+r.getMinutes()).slice(-2),c=("0"+r.getSeconds()).slice(-2);return`${e}${t}${n}${a}${o}${c}`}function Q(r,e="data.json"){var t=new Blob([JSON.stringify(r)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e,a.click()}function X(r){function e(){const t=document.getElementById("csv");if(t){if(!t.files)return;const n=t.files[0],a=new FileReader;a.onload=async function(){const o=a.result,c=await z({output:"json",trim:!0}).fromString((o==null?void 0:o.toString())||""),i=K(),d=n.name.replace(".csv",`_${i}.json`);Q(c,d)},a.readAsText(n)}}return M(()=>{H.set(`${P}/csv2json/`)}),[e]}class se extends I{constructor(e){super(),V(this,e,X,G,q,{})}}export{se as default};
